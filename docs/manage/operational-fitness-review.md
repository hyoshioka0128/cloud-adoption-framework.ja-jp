---
title: 運用適合性レビューの確立
description: 運用環境でワークロードを実行することが原因で発生する問題を完全に理解するために、運用適合性レビューのプロセスを確立します。
author: BrianBlanchard
ms.author: brblanch
ms.date: 10/17/2018
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: operate
ms.openlocfilehash: 2ee786e1a9c7f6b4cb4699aec01d647cabc37827
ms.sourcegitcommit: 60d8b863d431b5d7c005f2f14488620b6c4c49be
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/12/2020
ms.locfileid: "83223662"
---
# <a name="establish-an-operational-fitness-review"></a>運用適合性レビューの確立

企業が Azure でワークロードの運用を開始したら、次のステップは、これらのワークロードに対する_運用適合性レビュー_のプロセスを確立することです。 このプロセスでは、これらのワークロードに対する_非機能的な_要件を列挙し、実装して、繰り返し確認します。 非機能的要件は、サービスの予期される運用的な動作に関連します。

非機能的要件には、[ソフトウェア品質の柱](https://docs.microsoft.com/azure/architecture/guide/pillars)と呼ばれる 5 つの重要なカテゴリがあります。

- スケーラビリティ
- 可用性
- 回復性 (ビジネス継続性やディザスター リカバリーを含む)
- 管理
- Security

運用適合性レビューのプロセスでは、ミッション クリティカルなワークロードが品質の重要な要素に関するビジネスの期待を確実に満たしていることを確認します。

運用環境でワークロードを実行することが原因で発生する問題と、それらの問題を修復および解決する方法を完全に理解するために、運用適合性レビューのプロセスを作成します。 この記事では、企業がこの目標を達成するために使用できる高レベルの運用適合性レビューのプロセスの概要について説明します。

## <a name="operational-fitness-at-microsoft"></a>Microsoft での運用適合性

当初から、Microsoft の多くのチームが Azure プラットフォームの開発に携わってきました。 このような規模と複雑さのプロジェクトで、品質と一貫性を確保することは困難です。 基本的な非機能要件を定期的に列挙して実装するには、堅牢なプロセスが必要です。

Microsoft が実施するプロセスが、この記事で概要を説明するプロセスの基礎を形成しています。

## <a name="understand-the-problem"></a>問題を理解する

「[概要:移行を高速化する](../get-started/migrate.md)」で説明したように、企業のデジタル変革の最初のステップは、Azure を採用することによって解決するビジネス上の問題を明らかにすることです。 次のステップは、クラウドへのワークロードの移行や、既存のオンプレミス サービスの対応によるクラウド機能の組み込みなど、問題に対する高いレベルでの解決策を決定することです。 最後に、ソリューションを設計して実装します。

このプロセスで焦点を当てることが多いのは、サービスの機能、つまりサービスに実行させたい_機能的_要件のセットです。 たとえば、製品配送サービスでは、製品の出荷場所と配達先の場所を決定し、配送中の製品を追跡し、通知を顧客に送信する機能が必要です。

これに対し、_非機能的_な要件は、サービスの[可用性](https://docs.microsoft.com/azure/architecture/checklist/availability)、[回復性](https://docs.microsoft.com/azure/architecture/resiliency)、[スケーラビリティ](https://docs.microsoft.com/azure/architecture/checklist/scalability)などの特性に関係します。 これらの特性は、サービスの特定の機能の最終的な動作に直接影響しないため、機能的要件とは異なります。 しかし、非機能的要件は、サービスのパフォーマンスや継続性に関係します。

一部の非機能的な要件は、サービス レベル アグリーメント (SLA) の観点で指定できます。 たとえば、サービスの継続性は、次のように可用性の割合として表すことができます: "99.99% の時間を使用可能"。 他の非機能的要件は、定義がさらに難しく、運用ニーズが発展すると変化することがあります。 たとえば、コンシューマー指向のサービスは、需要急増後に予期しないスループット要件に直面する可能性があります。

> [!NOTE]
> 回復性の要件の詳細については、[信頼性の高い Azure アプリケーションの設計](https://docs.microsoft.com/azure/architecture/reliability#define-requirements)に関するページを参照してください。 この記事には、目標復旧時点 (RPO)、目標復旧時間 (RTO)、SLA の概念の説明が含まれています。

## <a name="process-for-operational-fitness-review"></a>運用適合性レビューのプロセス

企業のサービスのパフォーマンスと継続性の維持において重要なのは、運用適合性レビューのプロセスを実装することです。

![運用適合性レビューのプロセスの概要](../_images/manage/ofr-flow.png)

概要レベルでは、プロセスには 2 つのフェーズがあります。 _前提条件フェーズ_では、要件が確立されて、サポート サービスにマップされます。 このフェーズは頻繁に行われません。おそらく、年 1 回や、新しい業務の導入時です。 前提条件フェーズの出力は、_フロー フェーズ_で使用されます。 フロー フェーズは、毎月のように、さらに頻繁に発生します。

### <a name="prerequisites-phase"></a>前提条件フェーズ

このフェーズのステップでは、重要なサービスの定期的なレビューを実施するための要件をキャプチャします。

1. **重要なビジネス操作を識別する**。 企業のミッション クリティカルなビジネスの業務を識別します。 ビジネス操作は、すべてのサポート サービス機能から独立しています。 つまり、ビジネス操作は、ビジネスで実行する必要があり、IT サービスのセットによってサポートされる、実際のアクティビティを表します。

    _ミッション クリティカル_ (または_ビジネス クリティカル_) という用語は、操作が妨げられた場合のビジネスに対する重大な影響を示します。 たとえば、オンライン小売業には、"客がショッピング カートに商品を追加できるようにする" や "クレジット カードの支払いを処理する" といったビジネス操作が存在する場合があります。 これらの操作のいずれかが失敗した場合、顧客は取引を完了できず、企業は販売の実現に失敗します。

1. **操作をサービスにマップする**。 クリティカルなビジネス操作を、それらをサポートするサービスにマップします。 ショッピング カートの例では、在庫管理サービスやショッピング カート サービスなど、複数のサービスが関係する場合があります。 クレジット カードの支払いを処理するために、オンプレミスの支払いサービスがサードパーティの支払い処理サービスと対話する可能性があります。

1. **サービスの依存関係を分析する**。 ほとんどのビジネス操作には、複数のサポート サービス間のオーケストレーションが必要です。 サービス間の依存関係と、これらのサービスを介したミッション クリティカルなトランザクションのフローについて理解しておくことが重要です。

    オンプレミスのサービスと Azure サービスの間の依存関係についても考慮してください。 ショッピング カートの例では、在庫管理サービスがオンプレミスでホスティングされていて、実際の倉庫から従業員によって入力されたデータを取り込む場合があります。 一方で、[Azure Storage](https://docs.microsoft.com/azure/storage/common/storage-introduction) などの Azure サービスや、[Azure Cosmos DB](https://docs.microsoft.com/azure/cosmos-db/introduction) などのデータベースにオフプレミスでデータを格納する場合もあります。

これらのアクティビティからの出力は、サービス操作に対する_スコアカード メトリック_のセットです。 スコアカードは、可用性、スケーラビリティ、ディザスター リカバリーなどの基準を測定します。 スコアカードのメトリックは、サービスで満たすことを期待する運用基準を表します。 これらのメトリックは、サービス操作に適した任意の細分性レベルで表現できます。

スコアカードは、ビジネス所有者とエンジニアリングの間の意味のあるディスカッションを容易にするために簡単な用語で表す必要があります。 たとえば、スケーラビリティのスコアカード メトリックを単純な方法で色分けします。 緑色は定義された基準を満たしていること、黄色は定義された基準を満たしていないが計画的な修復をアクティブに実装していること、赤色は定義された基準を満たしておらず計画もアクションもないことを意味します。

これらのメトリックがビジネス ニーズを直接反映する必要があることを強調することが重要です。

### <a name="service-review-phase"></a>サービス レビュー フェーズ

サービス レビュー フェーズは、運用適合性レビューの中核です。 以下のステップが関係します。

1. **サービス メトリックを測定する**。 スコアカード メトリックを使用してサービスを監視し、サービスがビジネスの期待を満たすことを確認します。 サービスの監視は不可欠です。 非機能的要件に関してサービスのセットを監視できない場合、対応するスコアカード メトリックは赤色であると見なします。 この場合、修復のための最初のステップは、適切なサービス監視を実装することです。 たとえば、企業が 99.99% の可用性でのサービス運用を期待しているのに、可用性を測定するための運用テレメトリが配置されていない場合は、要件が満たされていないと想定します。

2. **修復を計画する**。 許容されるしきい値をメトリックが下回っているサービス操作ごとに、操作を許容できるレベルにするためにサービスを修復するコストを決定します。 サービスの修復コストがサービスの予想収益より大きい場合は、顧客エクスペリエンスなどの無形のコストの考慮に移ります。 たとえば、顧客がサービスを使用して注文しにくい場合は、競合企業を選択する可能性があります。

3. **修復を実装する**。 ビジネス所有者とエンジニアリング チームが計画に合意したら、それを実装します。 スコアカードのメトリックを評価するたびに、実装の状態を報告します。

このプロセスは反復的であり、それに専念するチームを設けるのが理想的です。 このチームは、定期的にミーティングを行って、既存の修復プロジェクトを検討し、新しいワークロードの基礎レビューを開始し、企業の全体的なスコアカードを追跡する必要があります。 このチームには、修復チームがスケジュールに遅れた場合やメトリックを満たせない場合にその責任を追求する権限も与える必要があります。

## <a name="structure-of-the-review-team"></a>レビュー チームの構造

運用適合性レビューを担当するチームは、次の役割で構成されます。

- **ビジネス所有者:** ミッション クリティカルなビジネス操作を個々に識別して優先順位を付けるためのビジネス知識を提供します。 また、軽減コストをビジネスへの影響と比較し、修復に関する最終的な決定を下します。

- **ビジネス アドボケイト:** ビジネス操作を独立した部品に分解し、それらの部品を、オンプレミスまたはクラウドにあるサービスおよびインフラストラクチャにマップします。 この役割には、各ビジネス操作に関連付けられているテクノロジの深い知識が必要です。

- **エンジニアリング所有者:** ビジネス操作に関連付けられたサービスを実装します。 各人は、レビュー チームによって発見された、非機能的要件の問題に対するソリューションの設計、実装、デプロイに参加する場合があります。

- **サービス所有者:** ビジネスのアプリケーションとサービスを運用します。 これらのアプリケーションとサービスのログ記録と使用状況のデータを収集します。 このデータは、問題の特定にも、修正をデプロイした後の検証にも使用されます。

## <a name="review-meeting"></a>レビュー ミーティング

レビュー チームには定期的にミーティングを開くことをお勧めします。 たとえば、チームは毎月ミーティングを行い、四半期ごとに上級リーダーに状態とメトリックを報告します。

プロセスとミーティングの詳細は、特定のニーズに合わせて調整します。 以下のタスクから始めることをお勧めします。

1. ビジネス所有者とビジネス アドボケイトは、エンジニアリングとサービス所有者からの入力を基にして、各ビジネス業務の非機能的な要件を列挙して決定します。 以前に識別されたビジネス操作の場合、優先度を確認して検証します。 新しいビジネス操作の場合、既存のリスト内での優先度を割り当てます。

2. エンジニアリングとサービス所有者は、ビジネス操作の現在の状態を対応するオンプレミスおよびクラウドのサービスにマップします。 マッピングは、各サービスのコンポーネントのリストを、依存関係ツリーとして方向付けしたものです。 その後、エンジニアリングとサービスの所有者は、ツリーを通るクリティカル パスを決定します。

3. エンジニアリングとサービス所有者は、前のステップでリストしたサービスの操作ログと監視の現在の状態を確認します。 堅牢なログ記録と監視が不可欠です。これらは、非機能的要件の達成失敗の原因であるサービス コンポーネントを特定します。 十分なログと監視が設けられていない場合、チームは計画を作成し、実装することによってそれらを設ける必要があります。

4. チームは新しいビジネス操作に対してスコアカード メトリックを作成します。 スコアカードは、ステップ 2 で識別した各サービスの構成コンポーネントのリストで構成されます。 これは、非機能的要件に合わせて調整され、各コンポーネントがどれだけ要件を満たしているかの尺度が含まれます。

5. 非機能的要件を満たしていない構成コンポーネントについては、チームが上位レベルの解決策を設計し、エンジニアリング所有者を割り当てます。 この時点で、ビジネス所有者とビジネス アドボケイトは、ビジネス操作の予想収益に基づいて、修復作業にかかる予算を設定します。

6. 最後に、チームは実行されている修復作業の確認を行います。 進行中の作業の各スコアカード メトリックを、予想される基準と対比して確認します。 メトリックの基準を満たしている構成コンポーネントについては、サービス所有者が、基準が満たされていることを確認するためのログと監視データを提示します。 メトリックの基準を満たしていない構成コンポーネントについては、それぞれのエンジニアリング所有者が、基準が満たされるのを妨げている問題について説明し、修復のための新しい設計があれば提案します。

## <a name="recommended-resources"></a>推奨リソース

- 「[ソフトウェア品質の重要な要素](https://docs.microsoft.com/azure/architecture/guide/pillars)」。
    Azure アプリケーション アーキテクチャ ガイドのこのセクションでは、ソフトウェア品質の 5 つの重要な要素、すなわち拡張性、可用性、回復性、管理性、セキュリティが説明されています。
- 「[Azure アプリケーションの 10 の設計原則](https://docs.microsoft.com/azure/architecture/guide/design-principles)」。
    Azure アプリケーション アーキテクチャ ガイドのこのセクションでは、アプリケーションをよりスケーラブルで回復性があり、管理しやすいものにする一連の設計原則が説明されています。
- 「[回復性に優れた Azure 用アプリケーションの設計](https://docs.microsoft.com/azure/architecture/resiliency)」。
    このガイドでは、まず "_回復性_" という用語の定義と関連する概念が説明されています。 次に、設計、実装からデプロイ、運用までというアプリケーションの有効期間全体に体系的な方法を使用することで、回復性を実現するプロセスについて説明します。
- [クラウド設計パターン](https://docs.microsoft.com/azure/architecture/patterns)。
    これらの設計パターンは、エンジニアリング チームがソフトウェア品質の重要な要素に基づいてアプリケーションを構築するときに役立ちます。
- [Azure Advisor](https://docs.microsoft.com/azure/advisor)。
    Advisor は、高可用性、セキュリティ、パフォーマンス、およびコストに関してリソースを最適化するのに役立つ、使用状況と構成に基づいてパーソナライズされたレコメンデーションを提供します。
